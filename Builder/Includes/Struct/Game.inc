
                ifndef _STRUCT_GAME_
                define _STRUCT_GAME_

                struct FGame
StartSlotA:     FLocation 0, 0                                                  ; координаты старта для фракции (слот A)
StartSlotB:     FLocation 0, 0                                                  ; координаты старта для фракции (слот B)
StartSlotC:     FLocation 0, 0                                                  ; координаты старта для фракции (слот C)
Size:           FMapSize 0, 0                                                   ; размер карты
SizeChank:      FMapSize 0, 0                                                   ; размер карты (в чанках)
SizeNEG:        FMapSize 0, 0                                                   ; размер карты (отрицательные значения)
Offset:         FLocation 0, 0                                                  ; смещения тайловой карты (текущая)
CachedAddress:  DW #0000                                                        ; кешированное значение адрес тайловой карты
DeltaTime:      DB #00                                                          ; время между кадрами отрисовки (значение отрицательное)
TileCountdown:  DB DURATION.TILE_ANIM                                           ; обратный счётчик продолжительности (DURATION.TILE_ANIM)       (0)
FlyCountdown:   DB DURATION.FLY_ANIM                                            ; обратный счётчик продолжительности (DURATION.FLY_ANIM)        (1)

; ИИ
UnitArraySize:  DB #00                                                          ; размер массива юнитов                                         (2)
AI_UpdateRate:  DB #00                                                          ; частота обновления ИИ                                         (3)

; delta time

; флаги
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | .. | CR | FS |
;   +----+----+----+----+----+----+----+----+
;
;   CS      [1]     - флаг, востановление фона под курсором
;   FS      [0]     - флаг, рендер завершён
; -----------------------------------------
Render          FFlags 0                                                        ; флаги отрисовки
ScrollFlags     FFlags 0                                                        ; флаги описывающие смещение тайловой карты при скроле
Sprite          FWFlags 0                                                       ; флаги работы с спрайтами 
                                                                                ; младший байт (offset) - FSprite.Offset
; -----------------------------------------
; старший байт
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | GM | .. | .. | .. | OX | .. | .. | .. |
;   +----+----+----+----+----+----+----+----+
;
;   GM      [7]     - общая маска для спрайта
;   OX      [3]     - если 0, то OR иначе OR & XOR вывод спрайта
; -----------------------------------------
                                                                                ; старший байт (flags)  - FSprite.Data.Page / FCompositeSpriteInfo.Flags
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | .. | .. | BS |
;   +----+----+----+----+----+----+----+----+
;
;   BS      [0]     - флаг базового старта миссии
;                     0 - нормальный старт со слота StartSlotA
;                     1 - режим защиты старт со слота StartSlotB
; -----------------------------------------
Gameplay        FFlags 0                                                        ; флаги геймплея
Hardware        FFlags 0                                                        ; флаги ограничения железа

; работа со спрайтами
CompositeY      DB #00                                                          ; смещение по вертикали для композитного спрайта
Animation       DS 4, 0                                                         ; массив анимация для композитного спрайта

; работа с курсором
RestoreScr      DW #0000
RestoreSize     DW #0000
RestorePage     DB #00

                ends

                endif ; ~_STRUCT_GAME_
